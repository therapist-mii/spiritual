<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ï¼†ãƒ‘ãƒ¬ãƒƒãƒˆ</title>
    <!-- Tailwind CSS CDNã‚’èª­ã¿è¾¼ã¿ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
        body {
            font-family: "Inter", sans-serif;
            background-color: #f7f9fb;
        }
        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’éš ã™ï¼ˆãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¬ãƒƒãƒˆã®è¦ä»¶ã‚’æº€ãŸã™ãŸã‚ã€ã‚«ãƒ¼ãƒ‰ã‚’å¯èƒ½ãªé™ã‚Šè¡¨ç¤ºï¼‰ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        /* é¸æŠã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãŒãƒ‰ãƒ©ãƒƒã‚°ã•ã‚Œã¦ã„ã‚‹æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }
        /* ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .toast {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
        }
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
        /* é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆå†…ã®ã‚«ãƒ¼ãƒ‰ã«ã‚«ãƒ¼ã‚½ãƒ«ã‚’åˆã‚ã›ãŸã¨ãã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .selected-color-card:hover {
            opacity: 0.9;
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        /* å„ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ã®åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
        .color-card {
            cursor: pointer;
            transition: transform 0.1s, opacity 0.1s;
        }
        .color-card:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã¨èª¬æ˜ -->
        <h1 class="text-3xl font-extrabold text-gray-900 mb-2">ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆãƒ¡ãƒ¼ã‚«ãƒ¼</h1>
        <p class="text-gray-600 mb-6">ä¸‹ã®ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆå†…ã®è‰²ã¯ãƒ‰ãƒ©ãƒƒã‚°ã§ä¸¦ã¹æ›¿ãˆå¯èƒ½ã§ã™ã€‚</p>

        <!-- é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã‚¨ãƒªã‚¢ -->
        <div id="selectedPalette" class="bg-white p-4 rounded-xl shadow-lg border border-gray-200 mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">é¸æŠã•ã‚ŒãŸã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ (<span id="selectedCount">0</span>è‰²)</h2>
            
            <!-- æ“ä½œãƒœã‚¿ãƒ³ -->
            <div class="flex flex-wrap gap-4 mb-4">
                <button id="copyButton" class="flex items-center justify-center px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 active:scale-95 disabled:opacity-50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" />
                        <path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h6a2 2 0 00-2-2H5z" />
                    </svg>
                    é¸ã‚“ã ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼
                </button>
                <button id="clearButton" class="flex items-center justify-center px-4 py-2 bg-red-500 text-white font-medium rounded-lg shadow-md hover:bg-red-600 transition duration-150 active:scale-95 disabled:opacity-50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                    </svg>
                    ã™ã¹ã¦ã‚¯ãƒªã‚¢
                </button>
            </div>

            <!-- é¸æŠã•ã‚ŒãŸã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div id="selectedColorsContainer" class="min-h-[100px] border border-dashed border-gray-300 rounded-lg p-3 flex flex-wrap gap-3 items-start content-start bg-gray-50">
                <p id="emptyMessage" class="text-gray-500 italic">ã“ã“ã«ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
            </div>
        </div>

        <!-- å…¨ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ä¸€è¦§ (ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¬ãƒƒãƒˆ) -->
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ä¸€è¦§ (ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ)</h2>
        <div id="mainPalette" class="grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 xl:grid-cols-14 gap-2 no-scrollbar">
            <!-- JavaScriptã«ã‚ˆã£ã¦ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
        </div>
    </div>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ãªã©ã«è¡¨ç¤º) -->
    <div id="toast" class="toast fixed bottom-5 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-xl text-sm font-medium z-50">
        ã‚³ãƒ”ãƒ¼ãŒæˆåŠŸã—ã¾ã—ãŸï¼
    </div>


    <script>
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰æä¾›ã•ã‚ŒãŸè‰²ã‚³ãƒ¼ãƒ‰ï¼ˆé‡è¤‡ã‚’å‰Šé™¤ã—ã€ä¸€æ„ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆï¼‰
        const ALL_COLOR_CODES_INPUT = [
            "#FF0000", "#C0392B", "#E57373", "#E76F51", "#EF5350", "#F44336", "#FFE4E1", "#FFB6C1", "#FF8A80", 
            "#6B4226", "#8B5E3C", "#A0522D", "#C49E7D", "#D35400", "#E67E22", "#F39C12", "#FF9800", "#FFCC80", 
            "#F4A261", "#F9A825", "#FDD835", "#E9C46A", "#DCE775", "#EC407A", "#E91E63", "#F48FB1", "#F8BBD0", 
            "#FFF0F5", "#E6E6FA", "#CE93D8", "#BA68C8", "#9B59B6", "#8E44AD", "#8E24AA", "#6A1B9A", "#6B5B95", 
            "#5A4E7D", "#4B3F72", "#3F3F74", "#415A77", "#457B9D", "#778DA9", "#2196F3", "#1976D2", "#64B5F6", 
            "#3498DB", "#2980B9", "#1D3557", "#264653", "#2C3E50", "#2B2D42", "#1B263B", "#000080", "#4DD0E1", 
            "#B2EBF2", "#A8DADC", "#88BFBF", "#1ABC9C", "#16A085", "#00A968", "#43A047", "#4CAF50", "#66BB6A", 
            "#81C784", "#AEEA00", "#E0E1DD", "#BDC3C7", "#BBDEFB", "#95A5A6", "#6D6D6D", "#3A3A3A", "#ECEFF1", 
            "#ECF0F1", "#F5F5F5", "#FFFAFA", "#FFFFF0", "#FFFFFF"
        ];
        
        // é‡è¤‡ã‚’é™¤å»ã—ã€ä¸€æ„ãªã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆ
        const UNIQUE_COLOR_CODES = [...new Set(ALL_COLOR_CODES_INPUT)];

        const mainPalette = document.getElementById('mainPalette');
        const selectedPaletteContainer = document.getElementById('selectedColorsContainer');
        const copyButton = document.getElementById('copyButton');
        const clearButton = document.getElementById('clearButton');
        const selectedCountSpan = document.getElementById('selectedCount');
        const emptyMessage = document.getElementById('emptyMessage');
        const toast = document.getElementById('toast');

        let selectedColors = []; // é¸æŠã•ã‚ŒãŸã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ä¿æŒã™ã‚‹é…åˆ—
        let draggedItem = null; // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®è¦ç´ 

        /**
         * é¸æŠã•ã‚ŒãŸã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®é…åˆ—ã‚’æ›´æ–°ã—ã€UIã‚’å†æç”»ã—ã¾ã™ã€‚
         */
        function updateSelectedColorsUI() {
            selectedPaletteContainer.innerHTML = '';
            
            if (selectedColors.length === 0) {
                emptyMessage.style.display = 'block';
                selectedPaletteContainer.appendChild(emptyMessage);
                copyButton.disabled = true;
                clearButton.disabled = true;
            } else {
                emptyMessage.style.display = 'none';
                copyButton.disabled = false;
                clearButton.disabled = false;
                
                selectedColors.forEach(color => {
                    const card = createSelectedColorCard(color);
                    selectedPaletteContainer.appendChild(card);
                });
            }
            selectedCountSpan.textContent = selectedColors.length;
        }

        /**
         * ãƒˆãƒ¼ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
         * @param {string} message - è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
         */
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // --- ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¬ãƒƒãƒˆã®ä½œæˆ ---

        /**
         * ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¬ãƒƒãƒˆç”¨ã®ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰è¦ç´ ã‚’ä½œæˆã—ã¾ã™ã€‚
         * @param {string} colorCode - ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: #FF0000ï¼‰
         * @returns {HTMLElement} ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰è¦ç´ 
         */
        function createMainColorCard(colorCode) {
            const card = document.createElement('div');
            card.className = 'color-card aspect-square rounded-lg shadow-sm hover:shadow-md hover:ring-2 hover:ring-indigo-500 transition duration-150 ease-in-out';
            card.style.backgroundColor = colorCode;
            card.setAttribute('data-color', colorCode);
            card.title = colorCode + ' (ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ)';
            
            // ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã«è¿½åŠ 
            card.addEventListener('click', () => {
                if (!selectedColors.includes(colorCode)) {
                    selectedColors.push(colorCode);
                    updateSelectedColorsUI();
                } else {
                    showToast('ã™ã§ã«é¸æŠã•ã‚Œã¦ã„ã¾ã™: ' + colorCode);
                }
            });
            
            return card;
        }

        /**
         * ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¬ãƒƒãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
         */
        function initializeMainPalette() {
            UNIQUE_COLOR_CODES.forEach(color => {
                const card = createMainColorCard(color);
                mainPalette.appendChild(card);
            });
        }
        
        // --- é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆ (ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—) ã®ä½œæˆ ---

        /**
         * é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆç”¨ã®ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰è¦ç´ ã‚’ä½œæˆã—ã¾ã™ã€‚ï¼ˆãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ï¼‰
         * @param {string} colorCode - ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰
         * @returns {HTMLElement} ã‚«ãƒ©ãƒ¼ã‚«ãƒ¼ãƒ‰è¦ç´ 
         */
        function createSelectedColorCard(colorCode) {
            const card = document.createElement('div');
            card.className = 'selected-color-card w-12 h-12 rounded-full shadow-lg cursor-move transition duration-200 ease-in-out relative flex items-center justify-center text-xs font-bold ring-2 ring-offset-2 ring-gray-100';
            card.style.backgroundColor = colorCode;
            card.setAttribute('data-color', colorCode);
            card.title = colorCode + ' (ãƒ‰ãƒ©ãƒƒã‚°ã§ä¸¦ã¹æ›¿ãˆã€ã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤)';
            card.draggable = true;
            
            // ã‚«ãƒ¼ãƒ‰ã®è‰²ã«å¿œã˜ã¦ãƒ†ã‚­ã‚¹ãƒˆè‰²ã‚’è¨­å®š
            // ç°¡æ˜“çš„ãªè¼åº¦ãƒã‚§ãƒƒã‚¯
            const hex = colorCode.substring(1);
            const r = parseInt(hex.substring(0, 2), 16);
            const g = parseInt(hex.substring(2, 4), 16);
            const b = parseInt(hex.substring(4, 6), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            card.style.color = brightness > 180 ? '#000' : '#FFF';
            card.textContent = colorCode; // ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰åã¯ãƒ‘ãƒ¬ãƒƒãƒˆä¸Šã«è¨˜è¼‰ã—ãªã„è¦ä»¶ã§ã—ãŸãŒã€ä¸¦ã¹æ›¿ãˆã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã€é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆãƒŸãƒ‹ãƒ‘ãƒ¬ãƒƒãƒˆï¼‰å†…ã§ã¯è¡¨ç¤ºã—ã¾ã™ã€‚
            
            // ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰å‰Šé™¤
            card.addEventListener('click', () => {
                const index = selectedColors.indexOf(colorCode);
                if (index > -1) {
                    selectedColors.splice(index, 1);
                    updateSelectedColorsUI();
                }
            });

            // ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹
            card.addEventListener('dragstart', (e) => {
                draggedItem = card;
                e.dataTransfer.effectAllowed = 'move';
                setTimeout(() => card.classList.add('dragging'), 0);
            });

            // ãƒ‰ãƒ©ãƒƒã‚°çµ‚äº†
            card.addEventListener('dragend', () => {
                draggedItem.classList.remove('dragging');
                draggedItem = null;
            });
            
            // ãƒ‰ãƒ©ãƒƒã‚°ã‚ªãƒ¼ãƒãƒ¼ (ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ãªå ´æ‰€ã‚’ç¤ºã™)
            card.addEventListener('dragover', (e) => {
                e.preventDefault();
                const container = selectedPaletteContainer;
                const siblings = Array.from(container.children).filter(el => el.id !== 'emptyMessage');
                
                // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®è¦ç´ ãŒãªã‘ã‚Œã°ä½•ã‚‚ã—ãªã„
                if (!draggedItem || draggedItem === card) return;

                // ã‚«ãƒ¼ã‚½ãƒ«ã®ä½ç½®ã¨è¦ç´ ã®ä¸­å¿ƒã‚’æ¯”è¼ƒã—ã¦ã€å‰ã‹å¾Œã‚ã‹ã‚’åˆ¤å®š
                const rect = card.getBoundingClientRect();
                const center = (rect.left + rect.right) / 2;
                const insertBefore = e.clientX < center;

                // æŒ¿å…¥ä½ç½®ã‚’è¨ˆç®—
                const draggedIndex = siblings.indexOf(draggedItem);
                const targetIndex = siblings.indexOf(card);

                if (draggedIndex < targetIndex && insertBefore) {
                    container.insertBefore(draggedItem, card);
                } else if (draggedIndex > targetIndex && !insertBefore) {
                    container.insertBefore(draggedItem, card.nextSibling);
                } else if (draggedIndex > targetIndex && insertBefore) {
                    container.insertBefore(draggedItem, card);
                } else if (draggedIndex < targetIndex && !insertBefore) {
                    container.insertBefore(draggedItem, card.nextSibling);
                }
            });
            
            return card;
        }

        // --- ãƒœã‚¿ãƒ³å‡¦ç† ---

        // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®å‡¦ç†
        copyButton.addEventListener('click', () => {
            if (selectedColors.length === 0) return;
            
            // ç¾åœ¨ã®è¡¨ç¤ºé †åºã«åŸºã¥ã„ã¦ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
            const currentOrder = Array.from(selectedPaletteContainer.children)
                .filter(el => el.id !== 'emptyMessage')
                .map(card => card.getAttribute('data-color'));
                
            const textToCopy = currentOrder.join(', ');

            // document.execCommand('copy') ã‚’ä½¿ç”¨ (iframeç’°å¢ƒã§ã®äº’æ›æ€§ã®ãŸã‚)
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = textToCopy;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showToast('ã‚³ãƒ”ãƒ¼æˆåŠŸ: ' + textToCopy);
                } else {
                    showToast('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
                }
            } catch (err) {
                console.error('ã‚³ãƒ”ãƒ¼ã‚¨ãƒ©ãƒ¼:', err);
                showToast('ã‚³ãƒ”ãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
            } finally {
                document.body.removeChild(tempTextArea);
                // ã‚³ãƒ”ãƒ¼å¾Œã€å†…éƒ¨ã® selectedColors é…åˆ—ã‚’DOMã®é †åºã«åŒæœŸã•ã›ã‚‹
                selectedColors = currentOrder;
            }
        });

        // ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã®å‡¦ç†
        clearButton.addEventListener('click', () => {
            selectedColors = [];
            updateSelectedColorsUI();
            showToast('é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚');
        });

        // --- åˆæœŸåŒ–å‡¦ç† ---
        
        // é¸æŠãƒ‘ãƒ¬ãƒƒãƒˆã‚¨ãƒªã‚¢è‡ªä½“ã¸ã®ãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆ (ç©ºã®ãƒ‘ãƒ¬ãƒƒãƒˆã«ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹å ´åˆãªã©ã«å¯¾å¿œ)
        selectedPaletteContainer.addEventListener('drop', (e) => {
            e.preventDefault();
            // ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œå¾Œã€å†…éƒ¨ã®é…åˆ—ã‚’DOMã®é †åºã«åŒæœŸã•ã›ã‚‹
            selectedColors = Array.from(selectedPaletteContainer.children)
                .filter(el => el.id !== 'emptyMessage')
                .map(card => card.getAttribute('data-color'));
        });
        
        selectedPaletteContainer.addEventListener('dragenter', (e) => {
            e.preventDefault();
        });
        
        selectedPaletteContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
        });


        window.onload = () => {
            initializeMainPalette();
            updateSelectedColorsUI(); // åˆæœŸçŠ¶æ…‹ã®UIã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        };
    </script>
</body>
</html>
